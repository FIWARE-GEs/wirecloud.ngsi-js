<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Documentation Class: Connection</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.simplex.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Documentation</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="NGSI.html">NGSI</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="NGSI.Connection.html">NGSI.Connection</a></li><li><a href="NGSI.ConnectionError.html">NGSI.ConnectionError</a></li><li><a href="NGSI.InvalidRequestError.html">NGSI.InvalidRequestError</a></li><li><a href="NGSI.InvalidResponseError.html">NGSI.InvalidResponseError</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: Connection</h1>
<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="NGSI.html">NGSI</a>.</span>
        
        Connection
        </h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="Connection"><span class="type-signature"></span>new Connection(url, options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates a new NGSI Connection.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">URL</span>



            
            </td>

            

            

            <td class="description last"><p>URL of the context broker</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">var connection = new NGSI.Connection(&quot;https://orion.example.com&quot;);</pre>

        <p class="code-caption">Using the FIWARE Lab's instance</p>
    
    <pre class="sunlight-highlight-javascript">var connection = new NGSI.Connection(&quot;http://orion.lab.fiware.org&quot;, {
    requestHeaders: {
        &quot;X-Auth-Token&quot;: token
    }
});</pre>


    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="appendEntityAttributes"><span class="type-signature"></span>appendEntityAttributes(changes [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Updates or appends attributes to an entity.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>changes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): transaction id
- `keyValues` (`Boolean`; default: `false`): Use flat attributes
- `strict` (`Boolean`; default: `false`): Force strict append semantics
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Append or update the temperature attribute</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.appendEntityAttributes({
    &quot;id&quot;: &quot;Bcn-Welt&quot;,
    &quot;temperature&quot;: {
        &quot;value&quot;: 31.5
    }
}).then(
    (response) =&gt; {
        // Attributes appended successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error appending the attributes to the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Append the temperature attribute</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.appendEntityAttributes({
    &quot;id&quot;: &quot;Bcn-Welt&quot;,
    &quot;temperature&quot;: 31.5
}, {
    strict: true,
    keyValues: true
}).then(
    (response) =&gt; {
        // Attributes appended successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error appending the attributes to the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="batchUpdate"><span class="type-signature"></span>batchUpdate(changes [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>This operation allows to create, update and/or delete several entities
in a single batch operation.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>changes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `keyValues` (`Boolean`; default: `false`): Use flat attributes
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.batchUpdate({
   &quot;actionType&quot;: &quot;APPEND&quot;,
   &quot;entities&quot;: [
       {
           &quot;type&quot;: &quot;Room&quot;,
           &quot;id&quot;: &quot;Bcn-Welt&quot;,
           &quot;temperature&quot;: {
               &quot;value&quot;: 21.7
           },
           &quot;humidity&quot;: {
               &quot;value&quot;: 60
           }
       },
       {
           &quot;type&quot;: &quot;Room&quot;,
           &quot;id&quot;: &quot;Mad_Aud&quot;,
           &quot;temperature&quot;: {
               &quot;value&quot;: 22.9
           },
           &quot;humidity&quot;: {
               &quot;value&quot;: 85
           }
       }
   ]
}).then(
    (response) =&gt; {
        // Attributes appended successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error appending attributes to the entities
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createEntity"><span class="type-signature"></span>createEntity(entity [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates a new entity.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>values to be used for creating the new entity</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `keyValues` (`Boolean`; default: `false`): Use flat attributes
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.createEntity({
    &quot;id&quot;: &quot;Spain-Road-A62&quot;,
    &quot;type&quot;: &quot;Road&quot;,
    &quot;name&quot;: {&quot;value&quot;: &quot;A-62&quot;},
    &quot;alternateName&quot;: {&quot;value&quot;: &quot;E-80&quot;},
    &quot;description&quot;: {&quot;value&quot;: &quot;Autovía de Castilla&quot;},
    &quot;roadClass&quot;: {&quot;value&quot;: &quot;motorway&quot;},
    &quot;length&quot;: {&quot;value&quot;: 355},
    &quot;refRoadSegment&quot;: {
        &quot;value&quot;: [
            &quot;Spain-RoadSegment-A62-0-355-forwards&quot;,
            &quot;Spain-RoadSegment-A62-0-355-backwards&quot;
        ]
     },
    &quot;responsible&quot;: {&quot;value&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot;}
}).then(
    (response) =&gt; {
        // Entity created successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error creating the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Using the keyValues option</p>
    
    <pre class="sunlight-highlight-javascript">connection.createEntity({
    &quot;id&quot;: &quot;Spain-Road-A62&quot;,
    &quot;type&quot;: &quot;Road&quot;,
    &quot;name&quot;: &quot;A-62&quot;,
    &quot;alternateName&quot;: &quot;E-80&quot;,
    &quot;description&quot;: &quot;Autovía de Castilla&quot;,
    &quot;roadClass&quot;: &quot;motorway&quot;,
    &quot;length&quot;: 355,
    &quot;refRoadSegment&quot;: [
        &quot;Spain-RoadSegment-A62-0-355-forwards&quot;,
        &quot;Spain-RoadSegment-A62-0-355-backwards&quot;
    ],
    &quot;responsible&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot;
}, {keyValues: true}).then(
    (response) =&gt; {
        // Entity created successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error creating the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="createSubscription"><span class="type-signature"></span>createSubscription(subscription [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Creates a new subscription.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subscription</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>values to be used for creating it</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.createSubscription({
   &quot;description&quot;: &quot;One subscription to rule them all&quot;,
   &quot;subject&quot;: {
       &quot;entities&quot;: [
           {
               &quot;idPattern&quot;: &quot;.*&quot;,
               &quot;type&quot;: &quot;Room&quot;
           }
       ],
       &quot;condition&quot;: {
           &quot;attrs&quot;: [
               &quot;temperature&quot;
           ],
           &quot;expression&quot;: {
               &quot;q&quot;: &quot;temperature&gt;40&quot;
           }
       }
   },
   &quot;notification&quot;: {
       &quot;http&quot;: {
           &quot;url&quot;: &quot;http://localhost:1234&quot;
       },
       &quot;attrs&quot;: [
           &quot;temperature&quot;,
           &quot;humidity&quot;
       ]
   },
   &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot;,
   &quot;throttling&quot;: 5
}).then(
    (response) =&gt; {
        // Subscription created successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error creating the subscription
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Creating a subscription using a callback</p>
    
    <pre class="sunlight-highlight-javascript">connection.createSubscription({
   &quot;description&quot;: &quot;One subscription to rule them all&quot;,
   &quot;subject&quot;: {
       &quot;entities&quot;: [
           {
               &quot;idPattern&quot;: &quot;.*&quot;,
               &quot;type&quot;: &quot;Room&quot;
           }
       ],
       &quot;condition&quot;: {
           &quot;attrs&quot;: [
               &quot;temperature&quot;
           ],
           &quot;expression&quot;: {
               &quot;q&quot;: &quot;temperature&gt;40&quot;
           }
       }
   },
   &quot;notification&quot;: {
       &quot;callback&quot;: function () {
       },
       &quot;attrs&quot;: [
           &quot;temperature&quot;,
           &quot;humidity&quot;
       ]
   },
   &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot;,
   &quot;throttling&quot;: 5
}).then(
    (response) =&gt; {
        // Subscription created successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error creating the subscription
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getEntity"><span class="type-signature"></span>getEntity(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets all the details of an entity.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `keyValues` (`Boolean`; default: `false`): Use flat attributes
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.getEntity(&quot;Spain-Road-A62&quot;).then(
    (response) =&gt; {
        // Entity details retrieved successfully
        // response.entity entity details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Retrieve a typed entity and using the keyValues option</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.getEntity({
    id: &quot;Spain-Road-A62&quot;,
    type: &quot;Road&quot;,
    keyValues: true
}).then(
    (response) =&gt; {
        // Entity details retrieved successfully
        // response.entity entity details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getEntityAttribute"><span class="type-signature"></span>getEntityAttribute(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets the details about an entity attribute.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with options:</p>
<pre class="prettyprint source"><code>- `attribute` (`String`): Name of the attribute to query
- `correlator` (`String`): Transaction id
- `id` (`String`): Id of the entity to query
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.getEntityAttribute({
    id: &quot;Bcn_Welt&quot;,
    attribute: &quot;temperature&quot;
}).then(
    (response) =&gt; {
        // Entity details retrieved successfully
        // response.entity entity details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Get entity attribute using the type option</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.getEntityAttribute({
    id: &quot;Bcn_Welt&quot;,
    type: &quot;Room&quot;,
    attribute: &quot;temperature&quot;
}).then(
    (response) =&gt; {
        // Entity details retrieved successfully
        // response.entity entity details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getEntityAttributes"><span class="type-signature"></span>getEntityAttributes(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets all the attributes of an entity.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>String with the id of the entity to query or an object with extra
    options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `keyValues` (`Boolean`; default: `false`): Use flat attributes
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.getEntityAttributes(&quot;Spain-Road-A62&quot;).then(
    (response) =&gt; {
        // Entity attributes retrieved successfully
        // response.attributes entity attributes
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving the attributes of the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Retrieve a typed entity and using the keyValues option</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.getEntityAttributes({
    id: &quot;Spain-Road-A62&quot;,
    type: &quot;Road&quot;,
    keyValues: true
}).then(
    (response) =&gt; {
        // Entity attributes retrieved successfully
        // response.attributes entity attributes
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving the attributes of the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getEntityAttributeValue"><span class="type-signature"></span>getEntityAttributeValue(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets the value of an entity attribute.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `attribute` (`String`): Name of the attribute to query
- `correlator` (`String`): Transaction id
- `id` (`String`): Id of the entity to query
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.getEntityAttributeValue({
    id: &quot;Bcn_Welt&quot;,
    attribute: &quot;temperature&quot;
}).then(
    (response) =&gt; {
        // Entity value retrieved successfully
        // response.value entity value
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving attribute value
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Get attribute value from a typed entity</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.getEntityAttributeValue({
    id: &quot;Bcn_Welt&quot;,
    type: &quot;Room&quot;,
    attribute: &quot;temperature&quot;
}).then(
    (response) =&gt; {
        // Entity value retrieved successfully
        // response.value entity value
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving attribute value
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getSubscription"><span class="type-signature"></span>getSubscription(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets all the details of a subscription.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.getSubscription(&quot;abcdef&quot;).then(
    (response) =&gt; {
        // Subscription details retrieved successfully
        // response.subscription subscription details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving subscription
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="getType"><span class="type-signature"></span>getType(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Gets all the details about an entity type.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.getType(&quot;Room&quot;).then(
    (response) =&gt; {
        // Type details retrieved successfully
        // response.type type details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error retrieving type
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="listSubscriptions"><span class="type-signature"></span>listSubscriptions( [options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Retrieves the available subscriptions (using pagination).</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `count` (`Boolean`; default: `false`): request total count
- `limit` (`Number`; default: `20`): This option allow you to specify
  the maximum number of subscriptions you want to receive from the
  server
- `offset` (`Number`; default: `0`): Allows you to skip a given
  number of elements at the beginning
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Retrieve first 20 subscriptions from the Context Broker</p>
    
    <pre class="sunlight-highlight-javascript">connection.listSubscriptions().then(
    (response) =&gt; {
        // Subscriptions retrieved successfully
        // response.results is an array with the retrieved subscriptions
    }, (error) =&gt; {
        // Error retrieving subscriptions
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Retrieve second page from the Context Broker requesting pagination details</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.listSubscriptions({offset: 20, details: true}).then(
    (response) =&gt; {
        // Subscriptions retrieved successfully
        // response.correlator transaction id associated with the server response
        // response.limit contains the used page size
        // response.results is an array with the retrieved subscriptions
        // response.count contains the number of available subscriptions
        // response.offset contains the offset used in the request
    }, (error) =&gt; {
        // Error retrieving subscriptions
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="listTypes"><span class="type-signature"></span>listTypes( [options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Retrieves the available types (using pagination).</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `count` (`Boolean`; default: `false`): request total count
- `limit` (`Number`; default: `20`): This option allow you to specify
  the maximum number of subscriptions you want to receive from the
  server
- `offset` (`Number`; default: `0`): Allows you to skip a given
  number of elements at the beginning
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Retrieve first 20 subscriptions from the Context Broker</p>
    
    <pre class="sunlight-highlight-javascript">connection.listTypes().then(
    (response) =&gt; {
        // Types retrieved successfully
        // response.results is an array with the retrieved subscriptions
    }, (error) =&gt; {
        // Error retrieving available types
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Retrieve second page from the Context Broker requesting pagination details</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.listTypes({offset: 20, count: true}).then(
    (response) =&gt; {
        // Types retrieved successfully
        // response.correlator transaction id associated with the server response
        // response.limit contains the used page size
        // response.results is an array with the retrieved subscriptions
        // response.count contains the number of available subscriptions
        // response.offset contains the offset used in the request
    }, (error) =&gt; {
        // Error retrieving available types
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="replaceEntityAttribute"><span class="type-signature"></span>replaceEntityAttribute(changes [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Update the details about an entity attribute.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>changes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with the new values for the attribute</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with options:</p>
<pre class="prettyprint source"><code>- `attribute` (`String`): Name of the attribute to modify
- `correlator` (`String`): Transaction id
- `id` (`String`): Id of the entity to modify
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.replaceEntityAttribute({
    value: 25,
    metadata: {
        &quot;unitCode&quot;: {
            &quot;value&quot;: &quot;CEL&quot;
        }
    }
}, {
    id: &quot;Bcn_Welt&quot;,
    attribute: &quot;temperature&quot;
}).then(
    (response) =&gt; {
        // Entity attribute replaced successfully
        // response.attribute attribute details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error replacing entity attribute
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Simple usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.replaceEntityAttribute({
    id: &quot;Bcn_Welt&quot;,
    attribute: &quot;temperature&quot;
    value: 25,
    metadata: {
        &quot;unitCode&quot;: {
            &quot;value&quot;: &quot;CEL&quot;
        }
    }
}).then(
    (response) =&gt; {
        // Entity attribute replaced successfully
        // response.attribute attribute details
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error replacing entity attribute
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
        // Entity details retrieved successfully
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="replaceEntityAttributes"><span class="type-signature"></span>replaceEntityAttributes(entity [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Replaces all the attributes associated with a entity.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entity</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `keyValues` (`Boolean`; default: `false`): Use flat attributes
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.replaceEntityAttributes({
    &quot;id&quot;: &quot;Spain-Road-A62&quot;,
    &quot;type&quot;: &quot;Road&quot;,
    &quot;name&quot;: {&quot;value&quot;: &quot;A-62&quot;},
    &quot;alternateName&quot;: {&quot;value&quot;: &quot;E-80&quot;},
    &quot;description&quot;: {&quot;value&quot;: &quot;Autovía de Castilla&quot;},
    &quot;roadClass&quot;: {&quot;value&quot;: &quot;motorway&quot;},
    &quot;length&quot;: {&quot;value&quot;: 355},
    &quot;refRoadSegment&quot;: {
        &quot;value&quot;: [
            &quot;Spain-RoadSegment-A62-0-355-forwards&quot;,
            &quot;Spain-RoadSegment-A62-0-355-backwards&quot;
        ]
     },
    &quot;responsible&quot;: {&quot;value&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot;}
}).then(
    (response) =&gt; {
        // Entity attributes replaced successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error replacing the attributes of the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Using the keyValues option</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.replaceEntityAttributes({
    &quot;id&quot;: &quot;Spain-Road-A62&quot;,
    &quot;type&quot;: &quot;Road&quot;,
    &quot;name&quot;: &quot;A-62&quot;,
    &quot;alternateName&quot;: &quot;E-80&quot;,
    &quot;description&quot;: &quot;Autovía de Castilla&quot;,
    &quot;roadClass&quot;: &quot;motorway&quot;,
    &quot;length&quot;: 355,
    &quot;refRoadSegment&quot;: [
        &quot;Spain-RoadSegment-A62-0-355-forwards&quot;,
        &quot;Spain-RoadSegment-A62-0-355-backwards&quot;
    ],
    &quot;responsible&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot;
}, {keyValues: true}).then(
    (response) =&gt; {
        // Entity attributes replaced successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error replacing the attributes of the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="replaceEntityAttributeValue"><span class="type-signature"></span>replaceEntityAttributeValue(options)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Updates the value of an entity attribute.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with options:</p>
<pre class="prettyprint source"><code>- `attribute` (`String`): Name of the attribute to query
- `correlator` (`String`): Transaction id
- `id` (`String`): Id of the entity to query
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation
- `value` (`String`|`Boolean`|`Number`|`Object`|`Array`) new value</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic usage</p>
    
    <pre class="sunlight-highlight-javascript">connection.replaceEntityAttributeValue({
    id: &quot;Bcn_Welt&quot;,
    attribute: &quot;temperature&quot;,
    value: 21
}).then(
    (response) =&gt; {
        // Entity value replaced successfully
        // response.value entity value
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error replacing attribute value
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Get attribute value from a typed entity</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.replaceEntityAttributeValue({
    id: &quot;Bcn_Welt&quot;,
    type: &quot;Room&quot;,
    attribute: &quot;temperature&quot;,
    value: 21
}).then(
    (response) =&gt; {
        // Entity value replaced successfully
        // response.value entity value
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error replacing attribute value
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="updateEntityAttributes"><span class="type-signature"></span>updateEntityAttributes(changes [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Updates attributes of an entity.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>changes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `keyValues` (`Boolean`; default: `false`): Use flat attributes
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Basic attribute update</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.appendEntityAttributes({
    &quot;id&quot;: &quot;sensor&quot;,
    &quot;temperature&quot;: {
        &quot;value&quot;: 31.5
    },
    &quot;humidity&quot;: {
        &quot;value&quot;: 50.2
    }
}).then(
    (response) =&gt; {
        // Attributes updated successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error updating the attributes of the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Update some attributes using the keyValues option</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.updateEntityAttributes({
    &quot;id&quot;: &quot;sensor&quot;,
    &quot;temperature&quot;: 31.5
    &quot;humidity&quot;: 50.2
}, {
    keyValues: true
}).then(
    (response) =&gt; {
        // Attributes updated successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error updating the attributes of the entity
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="updateSubscription"><span class="type-signature"></span>updateSubscription(changes [, options])</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Updates a subscription.</p>
<blockquote>
<p>This method uses v2 of the FIWARE's NGSI Specification</p>
</blockquote>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>changes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Object with extra options:</p>
<pre class="prettyprint source"><code>- `correlator` (`String`): Transaction id
- `service` (`String`): Service/tenant to use in this operation
- `servicepath` (`String`): Service path to use in this operation</code></pre></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	
	<dt class="tag-since method-doc-label method-doc-details-label">Since:</dt>
	<dd class="tag-since">
		<ul class="dummy">
			<li>1.0</li>
		</ul>
	</dd>
	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
        <p class="code-caption">Update subscription expiration time</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.updateSubscription({
    &quot;id&quot;: &quot;abcdef&quot;,
    &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot;
}).then(
    (response) =&gt; {
        // Subscription updated successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error updating subscription
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>

        <p class="code-caption">Use a custom service path for the update operation</p>
    
    <pre class="sunlight-highlight-javascript">connection.v2.updateSubscription({
    &quot;id&quot;: &quot;abcdef&quot;,
    &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot;
}, {
    servicepath: &quot;/Spain/Madrid&quot;
}).then(
    (response) =&gt; {
        // Subscription updated successfully
        // response.correlator transaction id associated with the server response
    }, (error) =&gt; {
        // Error updating subscription
        // If the error was reported by Orion, error.correlator will be
        // filled with the associated transaction id
    }
);</pre>


    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
	
		on 2017-02-22T11:10:50+01:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>