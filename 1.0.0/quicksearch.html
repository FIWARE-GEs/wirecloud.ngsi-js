<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError Classes Classes Connection A context broker connection. ConnectionError Exception raised for connection problems. InvalidRequestError Exception raised when the context broker server reject the request. InvalidResponseError Exception raised when detecting invalid responses from the server. Namespaces NGSI × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError Namespaces Classes Connection A context broker connection. ConnectionError Exception raised for connection problems. InvalidRequestError Exception raised when the context broker server reject the request. InvalidResponseError Exception raised when detecting invalid responses from the server. Namespaces NGSI × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError ngsijsNgsijs is the JavaScript library used by WireCloud for adding FIWARE NGSI capabilities to widgets and operators. However, this library has also be designed to be used in other environments as normal web pages and clients/servers running on Node.js. This library has been developed following the FIWARE NGSI v2 Specification and has been tested to work against version 0.26.0+ of the Orion Context Broker. Using ngsijs from normal web pagesJust include a &lt;script&gt; element linking to the NGSI.min.js file: &lt;script type=&quot;text/javascript&quot; src=&quot;url_to_NGSI.js&quot;&gt;&lt;/script&gt;Once added the &lt;script&gt; element, you will be able to use all the features provided by the ngsijs library except receiving notifications. To be able to receive notifications inside a web browser the library requires the use of a ngsi-proxy server. Using ngsijs from Node.js npm install ngsijsAfter installing the ngsijs node module, you will be able to use the API as usual: var NGSI = require('ngsijs'); var connection = new NGSI.Connection(&quot;http://orion.example.com:1026&quot;);Note: Node.js doesn't require the usage of a ngsi-proxy as you can create an HTTP endpoint easily (e.g. using express). Running ngsi-proxyRun the following command from the ngsi-proxy directory for installing any missing dependency: $ npm installOnce all dependencies are available, you will be able to run ngsi-proxy from the command line: $ npm run startYou will find some init script templates in the script folder inside the ngsi-proxy folder. Those scripts depend on the forever command line tool: $ [sudo] npm install forever -gngsi-proxy will listen on port 3000 by default. Using ngsijs from WireCloud widgets/operatorsTake a look to the &quot;3.2.1. Using Orion Context Broker&quot; tutorial available at FIWARE Academy. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "},"NGSI.html":{"id":"NGSI.html","title":"Namespace: NGSI","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError Namespace: NGSI Classes Connection A context broker connection. ConnectionError Exception raised for connection problems. InvalidRequestError Exception raised when the context broker server reject the request. InvalidResponseError Exception raised when detecting invalid responses from the server. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "},"NGSI.Connection.html":{"id":"NGSI.Connection.html","title":"Class: Connection","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError Class: Connection new NGSI.Connection(url, options) Creates a new NGSI Connection. Parameters: Name Type Description url String | URL URL of the context broker options Object Examples Basic usage var connection = new NGSI.Connection(&quot;https://orion.example.com&quot;); Using the FIWARE Lab's instance var connection = new NGSI.Connection(&quot;http://orion.lab.fiware.org&quot;, { requestHeaders: { &quot;X-Auth-Token&quot;: token } }); Methods v2.appendEntityAttributes(changes [, options]) Updates or appends attributes to an entity. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description changes Object [options] Object Object with extra options: - `correlator` (`String`): transaction id - `keyValues` (`Boolean`; default: `false`): Use flat attributes - `strict` (`Boolean`; default: `false`): Force strict append semantics - `service` (`String`): Service/tenant to use in this operation - `servicepath` (`String`): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Append or update the temperature attribute connection.v2.appendEntityAttributes({ &quot;id&quot;: &quot;Bcn-Welt&quot;, &quot;temperature&quot;: { &quot;value&quot;: 31.5 } }).then( (response) =&gt; { // Attributes appended successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error appending the attributes to the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Append the temperature attribute connection.v2.appendEntityAttributes({ &quot;id&quot;: &quot;Bcn-Welt&quot;, &quot;temperature&quot;: 31.5 }, { strict: true, keyValues: true }).then( (response) =&gt; { // Attributes appended successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error appending the attributes to the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.batchQuery([options]) This operation allows to make several entity queries at once. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description [options] Object Object with extra options: correlator (String): Transaction id count (Boolean; default: false): Request total count limit (Number; default: 20): This option allow you to specify the maximum number of entities you want to receive from the server offset (Number; default: 0): Allows you to skip a given number of elements at the beginning orderBy (String): Criteria for ordering results service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation unique (Boolean): Represent entities as an array of non-repeated attribute values. values (Boolean): Represent entities as an array of attribute values Since: 1.0 Returns: Type Promise Example Retrieve first 20 entities from the Context Broker connection.v2.batchQuery({ &quot;entities&quot;: [ { &quot;idPattern&quot;: &quot;.*&quot;, &quot;type&quot;: &quot;myFooType&quot; }, { &quot;id&quot;: &quot;myBar&quot;, &quot;type&quot;: &quot;myBarType&quot; } ], &quot;attributes&quot;: [ &quot;temperature&quot;, &quot;humidity&quot; ] }).then( (response) =&gt; { // Entities retrieved successfully // response.correlator transaction id associated with the server response // response.limit contains the used page size // response.results is an array with the retrieved entities // response.offset contains the offset used in the request }, (error) =&gt; { // Error retrieving entities // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.batchUpdate(changes [, options]) This operation allows to create, update and/or delete several entities in a single batch operation. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description changes Object [options] Object Object with extra options: correlator (String): Transaction id keyValues (Boolean; default: false): Use flat attributes service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Example Basic usage connection.v2.batchUpdate({ &quot;actionType&quot;: &quot;APPEND&quot;, &quot;entities&quot;: [ { &quot;type&quot;: &quot;Room&quot;, &quot;id&quot;: &quot;Bcn-Welt&quot;, &quot;temperature&quot;: { &quot;value&quot;: 21.7 }, &quot;humidity&quot;: { &quot;value&quot;: 60 } }, { &quot;type&quot;: &quot;Room&quot;, &quot;id&quot;: &quot;Mad_Aud&quot;, &quot;temperature&quot;: { &quot;value&quot;: 22.9 }, &quot;humidity&quot;: { &quot;value&quot;: 85 } } ] }).then( (response) =&gt; { // Attributes appended successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error appending attributes to the entities // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.createEntity(entity [, options]) Creates a new entity. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description entity Object values to be used for creating the new entity [options] Object Object with extra options: correlator (String): Transaction id keyValues (Boolean; default: false): Use flat attributes service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.createEntity({ &quot;id&quot;: &quot;Spain-Road-A62&quot;, &quot;type&quot;: &quot;Road&quot;, &quot;name&quot;: {&quot;value&quot;: &quot;A-62&quot;}, &quot;alternateName&quot;: {&quot;value&quot;: &quot;E-80&quot;}, &quot;description&quot;: {&quot;value&quot;: &quot;Autovía de Castilla&quot;}, &quot;roadClass&quot;: {&quot;value&quot;: &quot;motorway&quot;}, &quot;length&quot;: {&quot;value&quot;: 355}, &quot;refRoadSegment&quot;: { &quot;value&quot;: [ &quot;Spain-RoadSegment-A62-0-355-forwards&quot;, &quot;Spain-RoadSegment-A62-0-355-backwards&quot; ] }, &quot;responsible&quot;: {&quot;value&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot;} }).then( (response) =&gt; { // Entity created successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error creating the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Using the keyValues option connection.v2.createEntity({ &quot;id&quot;: &quot;Spain-Road-A62&quot;, &quot;type&quot;: &quot;Road&quot;, &quot;name&quot;: &quot;A-62&quot;, &quot;alternateName&quot;: &quot;E-80&quot;, &quot;description&quot;: &quot;Autovía de Castilla&quot;, &quot;roadClass&quot;: &quot;motorway&quot;, &quot;length&quot;: 355, &quot;refRoadSegment&quot;: [ &quot;Spain-RoadSegment-A62-0-355-forwards&quot;, &quot;Spain-RoadSegment-A62-0-355-backwards&quot; ], &quot;responsible&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot; }, {keyValues: true}).then( (response) =&gt; { // Entity created successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error creating the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.createSubscription(subscription [, options]) Creates a new subscription. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description subscription Object values to be used for creating it [options] Object Object with extra options: correlator (String): Transaction id service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.createSubscription({ &quot;description&quot;: &quot;One subscription to rule them all&quot;, &quot;subject&quot;: { &quot;entities&quot;: [ { &quot;idPattern&quot;: &quot;.*&quot;, &quot;type&quot;: &quot;Room&quot; } ], &quot;condition&quot;: { &quot;attrs&quot;: [ &quot;temperature&quot; ], &quot;expression&quot;: { &quot;q&quot;: &quot;temperature&gt;40&quot; } } }, &quot;notification&quot;: { &quot;http&quot;: { &quot;url&quot;: &quot;http://localhost:1234&quot; }, &quot;attrs&quot;: [ &quot;temperature&quot;, &quot;humidity&quot; ] }, &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot;, &quot;throttling&quot;: 5 }).then( (response) =&gt; { // Subscription created successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error creating the subscription // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Creating a subscription using a callback connection.v2.createSubscription({ &quot;description&quot;: &quot;One subscription to rule them all&quot;, &quot;subject&quot;: { &quot;entities&quot;: [ { &quot;idPattern&quot;: &quot;.*&quot;, &quot;type&quot;: &quot;Room&quot; } ], &quot;condition&quot;: { &quot;attrs&quot;: [ &quot;temperature&quot; ], &quot;expression&quot;: { &quot;q&quot;: &quot;temperature&gt;40&quot; } } }, &quot;notification&quot;: { &quot;callback&quot;: function () { }, &quot;attrs&quot;: [ &quot;temperature&quot;, &quot;humidity&quot; ] }, &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot;, &quot;throttling&quot;: 5 }).then( (response) =&gt; { // Subscription created successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error creating the subscription // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.deleteEntity(options) Removes an entity from the orion context broker server. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options String | Object String with the entity id to remove or an object providing options: correlator (String): Transaction id id (String): Id of the entity to remove service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Remove entity by Id connection.v2.deleteEntity(&quot;Spain-Road-A62&quot;).then( (response) =&gt; { // Entity deleted successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error deleting the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Remove entity by Id and type connection.v2.deleteEntity({ id: &quot;Spain-Road-A62&quot;, type: &quot;Road&quot; }).then( (response) =&gt; { // Entity deleted successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error deleting the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.deleteEntityAttribute(options) Removes a single attribute from an entity stored in the orion context broker server. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options Object Object providing information about the attribute to remove and any extra options: attribute (String): Name of the attribute to delete correlator (String): Transaction id id (String): Id of the entity to modify service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Remove an attribute from an entity connection.v2.deleteEntityAttribute({ id: &quot;Bcn_Welt&quot;, attribute: &quot;temperature&quot; }).then( (response) =&gt; { // Entity attribute deleted successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error deleting the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Remove an attribute from an entity indicating the entity type connection.v2.deleteEntityAttribute({ id: &quot;Bcn_Welt&quot;, type: &quot;Room&quot;, attribute: &quot;temperature&quot; }).then( (response) =&gt; { // Entity attribute deleted successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error deleting the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.deleteSubscription(options) Removes a subscription from the orion context broker server. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options String | Object String with the id of the subscription to remove or an object with options: correlator (String): Transaction id id (String): Id of the subscription to remove service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Example connection.v2.deleteSubscription(&quot;57f7787a5f817988e4eb3dda&quot;).then( (response) =&gt; { // Subscription deleted successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error deleting subscription // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.getEntity(options) Gets all the details of an entity. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options String | Object Object with extra options: correlator (String): Transaction id keyValues (Boolean; default: false): Use flat attributes service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.getEntity(&quot;Spain-Road-A62&quot;).then( (response) =&gt; { // Entity details retrieved successfully // response.entity entity details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Retrieve a typed entity and using the keyValues option connection.v2.getEntity({ id: &quot;Spain-Road-A62&quot;, type: &quot;Road&quot;, keyValues: true }).then( (response) =&gt; { // Entity details retrieved successfully // response.entity entity details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.getEntityAttribute(options) Gets the details about an entity attribute. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options Object Object with options: attribute (String): Name of the attribute to query correlator (String): Transaction id id (String): Id of the entity to query service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.getEntityAttribute({ id: &quot;Bcn_Welt&quot;, attribute: &quot;temperature&quot; }).then( (response) =&gt; { // Entity details retrieved successfully // response.entity entity details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Get entity attribute using the type option connection.v2.getEntityAttribute({ id: &quot;Bcn_Welt&quot;, type: &quot;Room&quot;, attribute: &quot;temperature&quot; }).then( (response) =&gt; { // Entity details retrieved successfully // response.entity entity details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.getEntityAttributes(options) Gets all the attributes of an entity. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options String | Object String with the id of the entity to query or an object with extra options: correlator (String): Transaction id keyValues (Boolean; default: false): Use flat attributes service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.getEntityAttributes(&quot;Spain-Road-A62&quot;).then( (response) =&gt; { // Entity attributes retrieved successfully // response.attributes entity attributes // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving the attributes of the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Retrieve a typed entity and using the keyValues option connection.v2.getEntityAttributes({ id: &quot;Spain-Road-A62&quot;, type: &quot;Road&quot;, keyValues: true }).then( (response) =&gt; { // Entity attributes retrieved successfully // response.attributes entity attributes // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving the attributes of the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.getEntityAttributeValue(options) Gets the value of an entity attribute. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options Object Object with extra options: attribute (String): Name of the attribute to query correlator (String): Transaction id id (String): Id of the entity to query service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.getEntityAttributeValue({ id: &quot;Bcn_Welt&quot;, attribute: &quot;temperature&quot; }).then( (response) =&gt; { // Entity value retrieved successfully // response.value entity value // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving attribute value // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Get attribute value from a typed entity connection.v2.getEntityAttributeValue({ id: &quot;Bcn_Welt&quot;, type: &quot;Room&quot;, attribute: &quot;temperature&quot; }).then( (response) =&gt; { // Entity value retrieved successfully // response.value entity value // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving attribute value // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.getSubscription(options) Gets all the details of a subscription. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options String | Object Object with extra options: correlator (String): Transaction id service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Example Basic usage connection.v2.getSubscription(&quot;abcdef&quot;).then( (response) =&gt; { // Subscription details retrieved successfully // response.subscription subscription details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving subscription // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.getType(options) Gets all the details about an entity type. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options String | Object Object with extra options: correlator (String): Transaction id service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Example Basic usage connection.v2.getType(&quot;Room&quot;).then( (response) =&gt; { // Type details retrieved successfully // response.type type details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error retrieving type // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.listEntities([options]) Retrieves the available entities using pagination. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description [options] Object Object with extra options: attrs (String): Comma-separated list of attribute names whose data are to be included in the response. The attributes are retrieved in the order specified by this parameter. If this parameter is not included, the attributes are retrieved in arbitrary order. correlator (String): Transaction id count (Boolean; default: false): Request total count id (String): A comma-separated list of entity ids to retrieve idPattern (String): A correctly formated regular expression. Retrieve entities whose ID matches the regular expression. Incompatible with the id option limit (Number; default: 20): This option allow you to specify the maximum number of entities you want to receive from the server offset (Number; default: 0): Allows you to skip a given number of elements at the beginning metadata (String): A comma-separated list of metadata names to include in the response mq (String): A query expression for attribute metadata, composed of a list of statements separated by semicolons (;) orderBy (String): Criteria for ordering results q (String): A query expression, composed of a list of statements separated by semicolons (;) service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation type (String): A comma-separated list of entity types to retrieve typePattern (String): A correctly formated regular expression. Retrieve entities whose type matches the regular expression. Incompatible with the type option. unique (Boolean): Represent entities as an array of non-repeated attribute values. values (Boolean): Represent entities as an array of attribute values Since: 1.0 Returns: Type Promise Examples Retrieve first 20 entities from the Context Broker connection.v2.listEntities().then( (response) =&gt; { // Entities retrieved successfully // response.correlator transaction id associated with the server response // response.limit contains the used page size // response.results is an array with the retrieved entities // response.offset contains the offset used in the request }, (error) =&gt; { // Error retrieving entities // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Retrieve second page from the Context Broker requesting pagination details connection.v2.listEntities({offset: 20, count: true}).then( (response) =&gt; { // Entities retrieved successfully // response.results is an array with the retrieved entities // response.correlator transaction id associated with the server response // response.count contains the number of entities // response.offset contains the offset used in the request }, (error) =&gt; { // Error retrieving entities // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.listSubscriptions([options]) Retrieves the available subscriptions (using pagination). This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description [options] Object Object with extra options: correlator (String): Transaction id count (Boolean; default: false): request total count limit (Number; default: 20): This option allow you to specify the maximum number of subscriptions you want to receive from the server offset (Number; default: 0): Allows you to skip a given number of elements at the beginning service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Retrieve first 20 subscriptions from the Context Broker connection.v2.listSubscriptions().then( (response) =&gt; { // Subscriptions retrieved successfully // response.results is an array with the retrieved subscriptions }, (error) =&gt; { // Error retrieving subscriptions // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Retrieve second page from the Context Broker requesting pagination details connection.v2.listSubscriptions({offset: 20, details: true}).then( (response) =&gt; { // Subscriptions retrieved successfully // response.correlator transaction id associated with the server response // response.limit contains the used page size // response.results is an array with the retrieved subscriptions // response.count contains the number of available subscriptions // response.offset contains the offset used in the request }, (error) =&gt; { // Error retrieving subscriptions // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.listTypes([options]) Retrieves the available types (using pagination). This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description [options] Object Object with extra options: correlator (String): Transaction id count (Boolean; default: false): request total count limit (Number; default: 20): This option allow you to specify the maximum number of subscriptions you want to receive from the server offset (Number; default: 0): Allows you to skip a given number of elements at the beginning service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Retrieve first 20 subscriptions from the Context Broker connection.v2.listTypes().then( (response) =&gt; { // Types retrieved successfully // response.results is an array with the retrieved subscriptions }, (error) =&gt; { // Error retrieving available types // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Retrieve second page from the Context Broker requesting pagination details connection.v2.listTypes({offset: 20, count: true}).then( (response) =&gt; { // Types retrieved successfully // response.correlator transaction id associated with the server response // response.limit contains the used page size // response.results is an array with the retrieved subscriptions // response.count contains the number of available subscriptions // response.offset contains the offset used in the request }, (error) =&gt; { // Error retrieving available types // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.replaceEntityAttribute(changes [, options]) Update the details about an entity attribute. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description changes Object Object with the new values for the attribute [options] Object Object with options: attribute (String): Name of the attribute to modify correlator (String): Transaction id id (String): Id of the entity to modify service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.replaceEntityAttribute({ value: 25, metadata: { &quot;unitCode&quot;: { &quot;value&quot;: &quot;CEL&quot; } } }, { id: &quot;Bcn_Welt&quot;, attribute: &quot;temperature&quot; }).then( (response) =&gt; { // Entity attribute replaced successfully // response.attribute attribute details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error replacing entity attribute // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Simple usage connection.v2.replaceEntityAttribute({ id: &quot;Bcn_Welt&quot;, attribute: &quot;temperature&quot; value: 25, metadata: { &quot;unitCode&quot;: { &quot;value&quot;: &quot;CEL&quot; } } }).then( (response) =&gt; { // Entity attribute replaced successfully // response.attribute attribute details // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error replacing entity attribute // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id // Entity details retrieved successfully } ); v2.replaceEntityAttributes(entity [, options]) Replaces all the attributes associated with a entity. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description entity Object [options] Object Object with extra options: correlator (String): Transaction id keyValues (Boolean; default: false): Use flat attributes service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.replaceEntityAttributes({ &quot;id&quot;: &quot;Spain-Road-A62&quot;, &quot;type&quot;: &quot;Road&quot;, &quot;name&quot;: {&quot;value&quot;: &quot;A-62&quot;}, &quot;alternateName&quot;: {&quot;value&quot;: &quot;E-80&quot;}, &quot;description&quot;: {&quot;value&quot;: &quot;Autovía de Castilla&quot;}, &quot;roadClass&quot;: {&quot;value&quot;: &quot;motorway&quot;}, &quot;length&quot;: {&quot;value&quot;: 355}, &quot;refRoadSegment&quot;: { &quot;value&quot;: [ &quot;Spain-RoadSegment-A62-0-355-forwards&quot;, &quot;Spain-RoadSegment-A62-0-355-backwards&quot; ] }, &quot;responsible&quot;: {&quot;value&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot;} }).then( (response) =&gt; { // Entity attributes replaced successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error replacing the attributes of the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Using the keyValues option connection.v2.replaceEntityAttributes({ &quot;id&quot;: &quot;Spain-Road-A62&quot;, &quot;type&quot;: &quot;Road&quot;, &quot;name&quot;: &quot;A-62&quot;, &quot;alternateName&quot;: &quot;E-80&quot;, &quot;description&quot;: &quot;Autovía de Castilla&quot;, &quot;roadClass&quot;: &quot;motorway&quot;, &quot;length&quot;: 355, &quot;refRoadSegment&quot;: [ &quot;Spain-RoadSegment-A62-0-355-forwards&quot;, &quot;Spain-RoadSegment-A62-0-355-backwards&quot; ], &quot;responsible&quot;: &quot;Ministerio de Fomento - Gobierno de España&quot; }, {keyValues: true}).then( (response) =&gt; { // Entity attributes replaced successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error replacing the attributes of the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.replaceEntityAttributeValue(options) Updates the value of an entity attribute. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description options Object Object with options: attribute (String): Name of the attribute to query correlator (String): Transaction id id (String): Id of the entity to query service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation value (String|Boolean|Number|Object|Array) new value Since: 1.0 Returns: Type Promise Examples Basic usage connection.v2.replaceEntityAttributeValue({ id: &quot;Bcn_Welt&quot;, attribute: &quot;temperature&quot;, value: 21 }).then( (response) =&gt; { // Entity value replaced successfully // response.value entity value // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error replacing attribute value // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Get attribute value from a typed entity connection.v2.replaceEntityAttributeValue({ id: &quot;Bcn_Welt&quot;, type: &quot;Room&quot;, attribute: &quot;temperature&quot;, value: 21 }).then( (response) =&gt; { // Entity value replaced successfully // response.value entity value // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error replacing attribute value // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.updateEntityAttributes(changes [, options]) Updates attributes of an entity. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description changes Object [options] Object Object with extra options: correlator (String): Transaction id keyValues (Boolean; default: false): Use flat attributes service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Basic attribute update connection.v2.updateEntityAttributes({ &quot;id&quot;: &quot;sensor&quot;, &quot;temperature&quot;: { &quot;value&quot;: 31.5 }, &quot;humidity&quot;: { &quot;value&quot;: 50.2 } }).then( (response) =&gt; { // Attributes updated successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error updating the attributes of the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Update some attributes using the keyValues option connection.v2.updateEntityAttributes({ &quot;id&quot;: &quot;sensor&quot;, &quot;temperature&quot;: 31.5 &quot;humidity&quot;: 50.2 }, { keyValues: true }).then( (response) =&gt; { // Attributes updated successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error updating the attributes of the entity // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); v2.updateSubscription(changes [, options]) Updates a subscription. This method uses v2 of the FIWARE's NGSI Specification Parameters: Name Type Description changes Object [options] Object Object with extra options: correlator (String): Transaction id service (String): Service/tenant to use in this operation servicepath (String): Service path to use in this operation Since: 1.0 Returns: Type Promise Examples Update subscription expiration time connection.v2.updateSubscription({ &quot;id&quot;: &quot;abcdef&quot;, &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot; }).then( (response) =&gt; { // Subscription updated successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error updating subscription // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); Use a custom service path for the update operation connection.v2.updateSubscription({ &quot;id&quot;: &quot;abcdef&quot;, &quot;expires&quot;: &quot;2016-04-05T14:00:00.00Z&quot; }, { servicepath: &quot;/Spain/Madrid&quot; }).then( (response) =&gt; { // Subscription updated successfully // response.correlator transaction id associated with the server response }, (error) =&gt; { // Error updating subscription // If the error was reported by Orion, error.correlator will be // filled with the associated transaction id } ); × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "},"NGSI.ConnectionError.html":{"id":"NGSI.ConnectionError.html","title":"Class: ConnectionError","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError Class: ConnectionError new NGSI.ConnectionError() Error raised if there are problems connecting to the context broker server. Browsers doesn't provide details about the connection problem due security concerns, so this exception doesn't provide those details. Extends Error × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "},"NGSI.InvalidRequestError.html":{"id":"NGSI.InvalidRequestError.html","title":"Class: InvalidRequestError","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError Class: InvalidRequestError new NGSI.InvalidRequestError() Error raised if the context broker server detected some problems with the data provided in the request. Extends Error × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "},"NGSI.InvalidResponseError.html":{"id":"NGSI.InvalidResponseError.html","title":"Class: InvalidResponseError","body":" Documentation Namespaces NGSI Classes NGSI.ConnectionNGSI.ConnectionErrorNGSI.InvalidRequestErrorNGSI.InvalidResponseError Class: InvalidResponseError new NGSI.InvalidResponseError() Exception raised when the server returns an unexpected response. This usually means that the server doesn't conform to the FIWARE NGSI Specification or that the server doesn't use a version supported by this library. Extends Error × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-02-22T18:03:20+01:00 . "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
